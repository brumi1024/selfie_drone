<!doctype html>
<html>

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>Drone App</title>
	<script src="/dronestream/nodecopter-client.js"></script>
	<script src="js/lib/core.min.js"></script>
	<script src="js/lib/tf.min.js"> </script>

	<script defer src="js/lib/face-api.min.js"></script>
	<script src="js/lib/materialize.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>

	<link rel="stylesheet" href="styles.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="materialize.min.css">
	
</head>

<body>
	<div id="fb-root"></div>
	<script async defer crossorigin="anonymous" src="https://connect.facebook.net/hu_HU/sdk.js#xfbml=1&version=v6.0"></script>
	<div style="text-align:center">
		<h1>
			Drone App
		</h1>
	</div>

	<div class="splitContainer" id="live-view">
		<div id="droneControl">
			<div class="row">
				<div class="col s12 m14">
					<div class="card">
						<div class="card-image">
	                        <video id="video" width="640" height="360" autoplay muted></video>
							<div id="droneStream"></div>

							<span class="card-title" id="liveViewText">Live Image</span>
							<span class="card-title" id="photoWillBeCreatedText">Photo will be created...</span>
							<span class="card-title" id="photoCreatedText">Photo created!</span>
						</div>
						<div class="card-content">
							<p>Use WASD buttons to move around, QE to turn and XC to increase or decrease height.</p>
						</div>
						<div class="card-action">
							<button id="takeoffBtn" class="btn waves-effect waves-light">Takeoff</button>
							<button id="landBtn" class="btn waves-effect waves-light">Land</button>
							<button id="stopBtn" class="btn waves-effect waves-light">Stop</button>
							<button id="autoBtn" class="btn waves-effect waves-light">Autonomous Flight</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col s12 m14">
				<div class="card blue-grey darken-1">
					<div class="card-content white-text fix-size">
						<span class="card-title activator white-text text-darken-4">Status<i class="material-icons right">more_vert</i></span>
						<p>Connection status: <span id="connection_status"></span> </p>
						<p>Drone status: <span id="state"></span> </p>
						<p>Last command accepted: <span id="last_command"></span> </p>
						<p>Battery: <span id="battery"></span> </p>
					</div>
				
					<div class="card-reveal">
						<span class="card-title grey-text text-darken-4">Settings<i class="material-icons right">close</i></span>
						<p>control:euler_angle_max: <input type="text" id="euler_angle_max" name="euler_angle_max"></p>
						<p>control:altitude_max: <input type="text" id="altitude_max" name="altitude_max"></p>
						<p>control:control_vz_max: <input type="text" id="control_vz_max" name="control_vz_max"></p>
						<p>control:control_yaw: <input type="text" id="control_yaw" name="control_yaw"></p>

						<button id="saveConfigBtn" class="btn waves-effect waves-light">Save</button>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
				<div class="col s12 m14">
					<div class="card">
						<div class="card-image">
							<canvas width="720" height="540" id="picture"></canvas>

							<span class="card-title">Last photo</span>
						</div>
						<div class="card-content">
							<p>Upon detecting a face and a thumbs up gesture a photo will be automatically created.</p>
						</div>
						<div class="card-action" id="pictureControls">
							<a id="downloadBtn" class="btn waves-effect waves-light">Save Picture</a>
							<button id="uploadBtn" class="btn waves-effect waves-light" onclick="upload()" disabled>Upload Picture</button>
						</div>
					</div>
				</div>
			</div>
	</div>
	<script type="text/javascript" charset="utf-8" src="js/Control.js"></script>
	<script type="text/javascript" charset="utf-8" src="js/main.js"></script>
	<script defer type="text/javascript" charset="utf-8" src="js/tfwrapper.js"></script>
	<script defer type="text/javascript" charset="utf-8" src="js/facedetect.js"></script>
</body>

</html>